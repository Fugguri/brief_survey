# ðŸ‡ºðŸ‡¸ English

## BriefSurvey
Universal Dynamic Survey for Telegram Bots with `aiogram` version 3 `aiogram_dialog` and Pydantic
### Description
BriefSurvey is a module for quick and flexible creation of dialog-based surveys in Telegram using aiogram v3 and aiogram_dialog.

- Questions are defined using Pydantic models to enforce strong typing and validation.
- Final answers are automatically serialized back into a Pydantic result model.
- Easy to extend and customize.
- Supports different question types: text, number, single-choice, multiple-choice.
- Simple integration and handler registration.

---
## Installation
### From GitHub Repository

```bash
pip install git+https://github.com/Fugguri/brief_survey.git 
```
### Download Locally and Install

```bash
git clone https://github.com/Fugguri/brief_survey.git
pip install -e brief_survey 
```


## Quick Start
### (case 1) Dynamic crate a brief 
```python
from brief_survey import BriefSurvey

async def save_handler(user_id: int, result: any):
    # dynamic access to survey result fields by question name.
    name = result.name
    age = result.age
    gender = result.gender

    return

survey = BriefSurvey(
    save_handler=save_handler,
    start_command='start_brief'  # customizable start command for the survey
)

# Customizable error messages
survey.info_messages.invalid_input = "Invalid data received, please try again."
# Customizable button text at the end of the survey
survey.buttons.finish_text = "Finish survey"

survey.add_question(
    text="What is your name?",
    question_type="text",
    name="name",
    media_path='storage/media/img.png'  # you can send media with text for any question (optional)
)

survey.add_question(
    text="Your age?",
    question_type="number",
    name="age",
    validator=lambda x: x.isdigit() and 0 < int(x) < 120
)

survey.add_question(
    text="Select your gender",
    question_type="choice",
    name="gender",
    choices=["Male", "Female"],
    next_questions={
        'Male': "favorite_car",
        'Female': "favorite_color",
    }
)

survey.add_question(
    text="Favorite car brand?",
    question_type="choice",
    name="favorite_car",
    choices=["MBW", "Mercedes"],
    next_question='photo'  # mandatory parameter for queries depending on choice. If not set, proceeds to next survey question
)

survey.add_question(
    text="Favorite color?",
    question_type="choice",
    name="favorite_color",
    choices=["White", "Pink", "Black"],
    next_question='photo'  # mandatory parameter for queries depending on choice. If not set, proceeds to next survey question
)

survey.add_question(
    text="Upload your photo",
    question_type="photo",
    name="photo"
)

```
### (case 2) 1. Define your questions using Pydantic models:

```python
from brief_survey import QuestionBase, ChoiceQuestion, MultiChoiceQuestion

questions = [
    QuestionBase(
        name="name",
        text="What is your name?",
        type="text",
        validator=lambda x: bool(x.strip()),
    ),
    ChoiceQuestion(
        name="gender",
        text="Select your gender",
        type="choice",
        choices=[("1", "Male"), ("2", "Female")],
    ),
    MultiChoiceQuestion(
        name="profession",
        text="Select your profession",
        type="multi_choice",
        choices=[
            ("1", "Athlete"),
            ("2", "Entrepreneur"),
            ("3", "Worker"),
        ],
    ),
]

```
### 2. Define a result model:
``` python
from pydantic import BaseModel
from typing import Optional

class SurveyResult(BaseModel):
    name: Optional[str]
    gender: Optional[str]
    profession: Optional[list[str]]
```
### 3. Create a function to save results:
``` python
async def save_handler(user_id: int, result: SurveyResult):
    # Save logic, e.g., store in database
    print(f"User {user_id} survey result: {result}")

```
### 4. Initialize and register the survey:
``` python
from brief_survey import BriefSurvey

survey = BriefSurvey(
    questions=questions,
    save_handler=save_handler,
    result_model=SurveyResult,
)

# In your main bot file with Dispatcher dp
survey.register_handlers(
    dp=dp,
    command_start='start_survey',     # optional
    text='Start survey',               # optional
    callback_data="start_survey"       # optional
)
```
### 5. Launch the survey in Telegram with the command:
 /start_survey



## Important
If you have global handlers in your bot, filter states explicitly using StateFilter to avoid conflicts that can break the survey after the first message:
``` python
from aiogram.filters import StateFilter

dp.message.register(handle, StateFilter(None))          # Only outside states
dp.callback_query.register(handle_callback, StateFilter(None))
```

# ðŸ‡·ðŸ‡º Ð ÑƒÑÑÐºÐ¸Ð¹

## BriefSurvey

Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¾Ð¿Ñ€Ð¾ÑÐ½Ð¸Ðº Ð´Ð»Ñ Telegram-Ð±Ð¾Ñ‚Ð¾Ð² Ð½Ð° Ð±Ð°Ð·Ðµ `aiogram_dialog` Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ Pydantic-Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð².

---

## ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

BriefSurvey â€” ÑÑ‚Ð¾ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð¹ Ð¸ Ð³Ð¸Ð±ÐºÐ¾Ð¹ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð´Ð¸Ð°Ð»Ð¾Ð³Ð¾Ð²Ñ‹Ñ… Ð¾Ð¿Ñ€Ð¾ÑÐ½Ð¸ÐºÐ¾Ð² Ð² Telegram Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ `aiogram` 3-Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸ Ð¸ `aiogram_dialog`.

- Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‚ÑÑ Pydantic-Ð¼Ð¾Ð´ÐµÐ»ÑÐ¼Ð¸ Ð´Ð»Ñ ÑÑ‚Ñ€Ð¾Ð³Ð¾Ð¹ Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸.
- Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐµÑ€Ð¸Ð°Ð»Ð¸Ð·ÑƒÑŽÑ‚ÑÑ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾ Ð² Pydantic-Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°.
- Ð›ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÐµÑ‚ÑÑ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÐµÑ‚ÑÑ.
- ÐŸÐ¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ð¿Ñ€Ð¾ÑÐ½Ð¸Ðº Ñ Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²: Ñ‚ÐµÐºÑÑ‚, Ñ‡Ð¸ÑÐ»Ð¾, Ð²Ñ‹Ð±Ð¾Ñ€ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¸Ð»Ð¸ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð¾Ð².
- ÐŸÑ€Ð¾ÑÑ‚Ð¾Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð¸ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð².

---

## Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
### Github Repo
```bash
pip install git+https://github.com/Fugguri/brief_survey.git 
```
### Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ Ð¸ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ
```bash
git clone https://github.com/Fugguri/brief_survey.git
pip install -e brief_survey 
```


## Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚
### (1 Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚) Ð”Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²
```python

from brief_survey import BriefSurvey
async def save_handler(user_id: int, result: any):
    #Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¾Ð±Ñ€Ð°Ñ‰ÐµÐ½Ð¸Ðµ Ðº Ð¿Ð¾Ð»ÑÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð° Ð¾Ð¿Ñ€Ð¾ÑÐ° Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ°. 
    name = result.mame
    age = result.age
    gender = result.gender 
    return 
survey = BriefSurvey(
    save_handler=save_handler,
    start_command='start_brief' # ÐœÐ¾Ð¶Ð½Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ Ð½Ð°Ñ‡Ð°Ð»Ð° Ð¾Ð¿Ñ€Ð¾ÑÐ°
)

#ÐœÐ¾Ð¶Ð½Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¾Ð± Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ…
survey.info_messages.invalid_input = "ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ñ‹ Ð½ÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·"

#ÐœÐ¾Ð¶Ð½Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ Ð¸ ÐºÐ½Ð¾Ð¿ÐºÑƒ Ð² ÐºÐ¾Ð½Ñ†Ðµ Ð¾Ð¿Ñ€Ð¾ÑÐ°
survey.info_messages.invalid_input = "ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ñ‹ Ð½ÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·"
survey.buttons.finish_text = "Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ Ð¾Ð¿Ñ€Ð¾Ñ" 

survey.add_question(
    text="ÐšÐ°Ðº Ð²Ð°Ñ Ð·Ð¾Ð²ÑƒÑ‚?",
    question_type="text",
    name="name",
    media_path='storage/media/img.png'# ÐœÐ¾Ð¶ÐµÑ‚Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ð¸ Ð²Ð¼ÐµÑÑ‚Ðµ Ñ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð¼
)
survey.add_question(
    text="Ð’Ð°Ñˆ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚?",
    question_type="number",
    name="age",
    validator=lambda x: x.isdigit() and 0 < int(x) < 120
)
survey.add_question(
    text="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿Ð¾Ð»",
    question_type="choice",
    name="gender",
    choices=["ÐœÑƒÐ¶ÑÐºÐ¾Ð¹", "Ð–ÐµÐ½ÑÐºÐ¸Ð¹"],
    
    next_questions={
    'ÐœÑƒÐ¶ÑÐºÐ¾Ð¹': "favorite_car",
    'Ð–ÐµÐ½ÑÐºÐ¸Ð¹': "favorite_color",
    }
)
survey.add_question(
    text="Ð›ÑŽÐ±Ð¸Ð¼Ð°Ñ Ð¼Ð°Ñ€ÐºÐ° Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»Ñ?",
    question_type="choice",
    name="favorite_car",
    choices=["MBW", "Mercedes"],
    next_question='photo' # ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ Ð´Ð»Ñ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð¾Ð² Ð·Ð°Ð²Ð¸ÑÑÑ‰Ð¸Ñ… Ð¾Ñ‚ Ð²Ñ‹Ð±Ð¾Ñ€Ð°. Ð•ÑÐ»Ð¸ Ð½Ðµ ÑƒÐºÐ°Ð·Ð°Ñ‚ÑŒ, Ð¿Ð¾Ð¹Ð´ÐµÑ‚ Ð´Ð°Ð»ÑŒÑˆÐµ Ð¿Ð¾ Ð¾Ð¿Ñ€Ð¾ÑÑƒ

)
survey.add_question(
    text="Ð›ÑŽÐ±Ð¸Ð¼Ñ‹Ð¹ Ñ†Ð²ÐµÑ‚?",
    question_type="choice",
    name="favorite_car",
    choices=["Ð‘ÐµÐ»Ñ‹Ð¹", "Ð Ð¾Ð·Ð¾Ð²Ñ‹Ð¹", "Ð§ÐµÑ€Ð½Ñ‹Ð¹"],
    next_question='photo' # ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ Ð´Ð»Ñ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð¾Ð² Ð·Ð°Ð²Ð¸ÑÑÑ‰Ð¸Ñ… Ð¾Ñ‚ Ð²Ñ‹Ð±Ð¾Ñ€Ð°. Ð•ÑÐ»Ð¸ Ð½Ðµ ÑƒÐºÐ°Ð·Ð°Ñ‚ÑŒ, Ð¿Ð¾Ð¹Ð´ÐµÑ‚ Ð´Ð°Ð»ÑŒÑˆÐµ Ð¿Ð¾ Ð¾Ð¿Ñ€Ð¾ÑÑƒ
)

survey.add_question(
    text="Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ð²Ð°ÑˆÐµ Ñ„Ð¾Ñ‚Ð¾",
    question_type="photo",
    name="photo"
)

````

### (2 Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚) 
1. ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸ Ð¸Ð· Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð³Ð¾ Ð¼Ð¾Ð´ÑƒÐ»Ñ):

```python
from brief_survey import QuestionBase, ChoiceQuestion, MultiChoiceQuestion

questions = [
    QuestionBase(
        name="name",
        text="ÐšÐ°Ðº Ð²Ð°Ñ Ð·Ð¾Ð²ÑƒÑ‚?",
        type="text",
        validator=lambda x: bool(x.strip()),
    ),
    ChoiceQuestion(
        name="gender",
        text="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿Ð¾Ð»",
        type="choice",
        choices=[("1", "ÐœÑƒÐ¶ÑÐºÐ¾Ð¹"), ("2", "Ð–ÐµÐ½ÑÐºÐ¸Ð¹")],
    ),
    MultiChoiceQuestion(
        name="gender",
        text="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ€Ð¾Ð´ Ð´ÐµÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸",
        type="multi_choice",
        choices=[("1", "Ð¡Ð¿Ð¾Ñ€Ñ‚ÑÐ¼ÐµÐ½"), 
                 ("2", "ÐŸÑ€ÐµÐ´Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÐµÐ»ÑŒ"),
                 ("3", "ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ð½Ð¸Ðº")
                 ],
    )
]



```
### 2. ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚Ðµ Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°:
``` python
from pydantic import BaseModel
from typing import Optional


class SurveyResult(BaseModel):
    name: Optional[str]
    gender: Optional[str]
```
### 3. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð´Ð»Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²:
```python

async def save_handler(user_id: int, result: SurveyResult):
    # Ð›Ð¾Ð³Ð¸ÐºÐ° ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð² Ð±Ð°Ð·Ñƒ
    print(f"Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð¾Ð¿Ñ€Ð¾ÑÐ° Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ {user_id}: {result}")
```
### 4. Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¸ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¾Ð¿Ñ€Ð¾ÑÐ½Ð¸Ðº:
``` python
from brief_survey import BriefSurvey

survey = BriefSurvey(
    questions=questions,
    save_handler=save_handler,
    result_model=SurveyResult,
)

# Ð² Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¼ Ñ„Ð°Ð¹Ð»Ðµ Ñ Ð±Ð¾Ñ‚Ð¾Ð¼ (Dispatcher dp) Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð² Dispatcher
survey.register_handlers(dp=dp,
                         command_start='start_survey', #Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾
                         text='ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð¾Ð¿Ñ€Ð¾Ñ', #Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾
                         callback_data="start_survey" #Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾
                         )
```
### 5.Ð—Ð°Ð¿ÑƒÑÐºÐ°Ð¹Ñ‚Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ Ð² Telegram:
/start_survey

## Ð’Ð°Ð¶Ð½Ð¾.
Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ Ð³Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ñ‹Ð¹ handler, Ñ„Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐ¹Ñ‚Ðµ state Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ, Ð¿Ñ€Ð¸ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸ StateFilter.ÐÐµÑÑÐ½Ñ‹Ðµ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹ Ð¸ Ð¿Ð¾ÑÐ»Ðµ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¾Ð¿Ñ€Ð¾ÑÐ½Ð¸Ðº Ð¿ÐµÑ€ÐµÑÑ‚Ð°ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ.

``` python
from aiogram.filters import StateFilter
dp.message.register(handle,StateFilter(None))  # Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²Ð½Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ð¹!
dp.callback_query.register(handle_callback,StateFilter(None))
```


# ToDo
- Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÑƒ Ð¼ÐµÐ´Ð¸Ð° ÑÐ¿Ð¸ÑÐºÐ°

# for any errors send me a telegram message to @fugguri.
# â˜•ï¸bye me a coffe appreciated 